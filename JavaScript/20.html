<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript 20</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
        }

        html {
            font-family: Arial, Helvetica, sans-serif;
            font-size: 16px;
        }

        body {
            min-height: 100vh;
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-orient: vertical;
            -webkit-box-direction: normal;
            -ms-flex-direction: column;
            flex-direction: column;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
        }

        main {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-orient: vertical;
            -webkit-box-direction: normal;
            -ms-flex-direction: column;
            flex-direction: column;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            background-color: #708090;
            border: 1px solid #000;
            width: 100%;
        }

        .height100 {
            height: 100px;
        }

        .purple {
            background-color: purple;
        }

        .blue {
            background-color: blue;
        }

        .darkblue {
            background-color: #00008b;
        }

        .black {
            background-color: #000;
        }

        nav {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-pack: justify;
            -ms-flex-pack: justify;
            justify-content: space-between;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            padding: 1rem;
            width: 100%;
            height: 48px;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #fff;
            z-index: 2;
            background-color: #323330;
            color: #fff;
        }

        section {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-orient: vertical;
            -webkit-box-direction: normal;
            -ms-flex-direction: column;
            flex-direction: column;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            width: 100%;
            height: 100vh;
            z-index: 1;
            padding-top: 48px;
        }

        /* Depending on the view example (1, 2, or 3), 
you will want to set display:none for the other two 
and display:flex for the example you want to see. */
        .view1 {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-orient: horizontal;
            -webkit-box-direction: normal;
            -ms-flex-direction: row;
            flex-direction: row;
            -ms-flex-wrap: wrap;
            flex-wrap: wrap;
            -webkit-box-pack: space-evenly;
            -ms-flex-pack: space-evenly;
            justify-content: space-evenly;
            background-color: #f0db4f;
            color: #000;
        }

        .view1 div {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-orient: vertical;
            -webkit-box-direction: normal;
            -ms-flex-direction: column;
            flex-direction: column;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            width: 100px;
            height: 100px;
            background-color: #323330;
            color: #fff;
            margin: 10px;
        }

        .view2 {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-orient: vertical;
            -webkit-box-direction: normal;
            -ms-flex-direction: column;
            flex-direction: column;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            display: none;
            color: #fff;
            max-width: 400px;
            max-height: 60%;
            padding-top: 0;
        }

        .view2 div {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-orient: vertical;
            -webkit-box-direction: normal;
            -ms-flex-direction: column;
            flex-direction: column;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            width: 200px;
            height: 200px;
            color: #fff;
            margin: 10px;
        }

        .view3 {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-orient: vertical;
            -webkit-box-direction: normal;
            -ms-flex-direction: column;
            flex-direction: column;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            display: none;
            background-color: #d3d3d3;
            border: 1px solid #000;
            max-width: 400px;
            padding: 2rem;
        }

        .view3 form label {
            color: #000;
            margin-right: 1rem;
            font-size: 1.5rem;
        }

        .view3 form input {
            width: 100%;
            line-height: 1.5rem;
            font-size: 1.5rem;
        }

        .view3 form button {
            display: block;
            margin-top: 1rem;
            margin-left: auto;
            font-size: 1.25rem;
            padding: 0.75rem;
            border-radius: 10px;
        }
    </style>
</head>

<body>
    <nav>
        <h1>üëÇüèª Event Listeners</h1>
    </nav>
    <main>
        <section id="view1" class="view1">
            <div>1</div>
            <div>2</div>
            <div>3</div>
            <div>4</div>
            <div>5</div>
            <div>6</div>
            <div>7</div>
            <div>8</div>
            <div>9</div>
            <div>10</div>
            <div>11</div>
            <div>12</div>
        </section>
        <section id="view2" class="view2 darkblue">
            <div class="black">
                <h2>My 2nd View</h2>
            </div>
        </section>
        <section id="view3" class="view3">
            <form id="myForm">
                <label for="myTextInput">Text Input:</label>
                <input type="text" id="myTextInput" autocomplete="off" />
                <button type="submit">Submit</button>
            </form>
        </section>
    </main>

</body>
<script>
    // Event Listeners

    /* In the head of the HTML file, the script element contains a "defer" attribute. This specifies that the script is downloaded and executed after the page has finished parsing. */

    // Insure the DOM is available to interact with.
    const view = document.querySelector("#view2");
    console.log(view);

    const div = view.querySelector("div");
    const h2 = view.querySelector("h2");

    // Syntax: addEventListener (event, function, useCapture)

    const doSomething = () => {
        alert("doing something");
    }

    // Using a function name in the event listener
    h2.addEventListener("click", doSomething, false);

    // Removing a function with a name: removeEventListener()
    h2.removeEventListener("click", doSomething, false);

    // Using an anonymous function in the event listener
    h2.addEventListener("click", (event) => {
        console.log(event.target);
        event.target.textContent = "Clicked";
    })

    // Listening for the readystatechange event
    document.addEventListener("readystatechange", (event) => {
        if (event.target.readyState === "complete") {
            console.log("readyState: complete");
            initApp();
        }
    });

    const initApp = () => {
        const view = document.querySelector("#view2");
        const div = view.querySelector("div");
        const h2 = view.querySelector("h2");

        view.addEventListener("click", (event) => {
            view.style.backgroundColor = "purple";
        });

        div.addEventListener("click", (event) => {
            div.style.backgroundColor = "blue";
        });

        h2.addEventListener("click", (event) => {
            event.target.textContent = "Clicked";
        });
    };

    // classList, add, remove, and toggle
    view.addEventListener("click", (event) => {
        view.classList.add("purple");
        view.classList.remove("darkblue");
        view.classList.toggle("darkblue");
    });

    // Prevent default behavior with event.preventDefault()
    const initApp2 = () => {
        const view3 = document.querySelector("#view3");
        const myForm = document.querySelector("#myForm");
    }
</script>

</html>